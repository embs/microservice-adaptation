<?xml version="1.0" encoding="UTF-8"?>
<metamodel:AdaptationScript
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:metamodel="http://gfads.cin.ufpe.br/maveric"
    xsi:schemaLocation="http://gfads.cin.ufpe.br/maveric ../model/metamodel.ecore"
    name="instantiateServiceJava">
  <commands
      xsi:type="metamodel:CommandContext"
      implementation="br.cin.gfads.adalrsrj1.adaptationmanater.commands.impl.docker.DockerRunServiceImpl"
      name="dockerRunService">
    <commandParameter
        xsi:type="metamodel:CompositeCommandParameter"
        key="serviceSpec">
      <value
          xsi:type="metamodel:CompositeCommandParameter"
          key="taskTemplate">
        <value
            xsi:type="metamodel:CompositeCommandParameter"
            key="containerSpec">
          <value
              xsi:type="metamodel:CommandParameter"
              key="image"
              value="adalrsjr1/java"/>
          <value
              xsi:type="metamodel:CommandParameter"
              key="command"
              value="sh"/>
        </value>
        <value
            xsi:type="metamodel:CompositeCommandParameter"
            key="logDriver"/>
      </value>
      <value
          xsi:type="metamodel:CompositeCommandParameter"
          key="mode">
        <value
            xsi:type="metamodel:CommandParameter"
            key="replicated"
            value="1"/>
        <value
            xsi:type="metamodel:CommandParameter"
            key="global"
            value=""/>
      </value>
      <value
          xsi:type="metamodel:CompositeCommandParameter"
          key="endpointSpec">
        <value
            xsi:type="metamodel:CompositeCommandParameter"
            key="port">
          <value
              xsi:type="metamodel:CommandParameter"
              key="protocol"
              value="TCP"/>
          <value
              xsi:type="metamodel:CommandParameter"
              key="publishedPort"
              value="8081"/>
          <value
              xsi:type="metamodel:CommandParameter"
              key="targetPort"
              value="8081"/>
        </value>
      </value>
      <value
          xsi:type="metamodel:CommandParameter"
          key="name"
          value="java"/>
    </commandParameter>
    <contextAttributes
        key="docker.service.java.id"
        type="STRING"/>
    <contextAttributes
        key="docker.service.java.replicas"/>
  </commands>
</metamodel:AdaptationScript>
